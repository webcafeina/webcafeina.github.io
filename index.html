<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Propuesta Interactiva: Campa√±a Google Ads - La Casa de Luis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Google Inspired Palette -->
    <!-- Application Structure Plan: Se ha dise√±ado una SPA con navegaci√≥n por pesta√±as para segmentar la propuesta en partes l√≥gicas: Resumen, Campa√±a General, Campa√±a Rom√°ntica, An√°lisis de Keywords, Audiencia (ahora con Mercados Emisores) y Pr√≥ximos Pasos. Esta estructura evita abrumar al usuario con informaci√≥n, permitiendo una exploraci√≥n progresiva y enfocada. El usuario puede obtener una vista general r√°pida y luego profundizar en los detalles de cada campa√±a, incluyendo un an√°lisis detallado de palabras clave, preguntas de usuario y los principales mercados de origen de clientes. Se expanden los "Pr√≥ximos Pasos" para incluir KPIs, optimizaci√≥n y sinergia SEO. Esta interactividad hace que una estrategia compleja sea tangible y f√°cil de comprender. Adem√°s, se integran herramientas de IA para generar ideas de anuncios y borradores de contenido, enriqueciendo la propuesta y ofreciendo valor a√±adido inmediato. -->
    <!-- Visualization & Content Choices: 
        - Estructura de Campa√±a -> Pesta√±as interactivas -> Permite al usuario enfocarse en una parte de la estrategia a la vez -> Vanilla JS.
        - Presupuesto (hipot√©tico) -> Informar sobre el enfoque de inversi√≥n -> Gr√°fico de Anillo -> Visualiza la mayor inversi√≥n en la campa√±a rom√°ntica, el principal USP -> Chart.js.
        - Grupos de Anuncios / Palabras Clave / Anuncios -> Organizar y conectar la estructura de campa√±a -> Selector de botones interactivo -> Al hacer clic en un grupo de anuncios, se muestran las KW y el anuncio correspondiente. Esto clarifica la relaci√≥n entre los elementos de la campa√±a de forma din√°mica -> Vanilla JS.
        - An√°lisis de Keywords -> Presentar KW principales, sem√°nticas, preguntas de usuario y explicaci√≥n de tipos de concordancia -> Listas estructuradas y texto -> Facilita la comprensi√≥n de la intenci√≥n de b√∫squeda -> HTML/Tailwind.
        - P√∫blico Objetivo y Extensiones (incluyendo Mercados Emisores) -> Presentar perfiles, herramientas y or√≠genes de clientes de forma clara -> Tarjetas y listas con iconos -> Mejora la legibilidad y el atractivo visual en comparaci√≥n con texto plano -> HTML/Tailwind/Unicode.
        - Pr√≥ximos Pasos -> Organizar la informaci√≥n necesaria y detallar KPIs, optimizaci√≥n, gesti√≥n de presupuesto y sinergia SEO -> Lista estructurada y subsecciones -> Proporciona una clara llamada a la acci√≥n para el cliente -> HTML/Tailwind.
        - Generador de Ideas para Anuncios -> Mejorar la creatividad publicitaria -> Bot√≥n + API Gemini -> Muestra sugerencias de texto para anuncios -> Vanilla JS + Fetch.
        - Borrador de Contenido para Landing Page -> Facilitar la creaci√≥n de contenido -> Bot√≥n + API Gemini -> Muestra un borrador de texto para una landing page espec√≠fica -> Vanilla JS + Fetch.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        :root {
            --google-blue: #1A73E8;
            --google-blue-darker: #125ABC;
            --google-border-grey: #DADCE0;
            --google-light-background: #F8F9FA; /* Slightly off-white for main background */
            --google-card-background: #FFFFFF; /* White for cards */
            --google-text-grey: #5F6368;
            --google-dark-text: #202124;
            --google-green: #1E8E3E; /* Google Green for positive accents */
            --google-yellow: #F9AB00;
            --google-red: #D93025;
        }
        body { font-family: 'Roboto', 'Inter', sans-serif; background-color: var(--google-light-background); color: var(--google-dark-text); }
        .tab-btn { 
            color: var(--google-text-grey); 
            border-bottom: 3px solid transparent;
            transition: all 0.2s ease-in-out; 
            padding: 0.85rem 1.15rem; 
            font-weight: 500;
            font-size: 0.95rem;
        }
        .tab-btn.active { 
            color: var(--google-blue); 
            border-bottom-color: var(--google-blue); 
            font-weight: 600;
        }
        .tab-btn:hover:not(.active) {
            background-color: #F1F3F4; 
            color: var(--google-dark-text);
        }
        .ad-group-btn {
            background-color: var(--google-card-background);
            color: var(--google-text-grey);
            border: 1px solid var(--google-border-grey);
            transition: all 0.2s ease-in-out;
            font-weight: 500;
        }
        .ad-group-btn.active { 
            background-color: var(--google-blue); 
            color: white; 
            border-color: var(--google-blue);
        }
        .ad-group-btn:hover:not(.active) {
            background-color: #E8F0FE; /* Light blue for hover */
            border-color: var(--google-blue);
            color: var(--google-blue);
        }
        .chart-container { position: relative; width: 100%; max-width: 280px; margin-left: auto; margin-right: auto; height: 280px; }
        .gemini-btn { 
            background-color: var(--google-blue); 
            color: white; 
            padding: 0.6rem 1.2rem; 
            border-radius: 0.25rem; 
            font-size: 0.875rem; 
            font-weight: 500;
            transition: background-color 0.2s ease-in-out; 
            cursor:pointer; 
        }
        .gemini-btn:hover { background-color: var(--google-blue-darker); }
        .loading-indicator { font-style: italic; color: var(--google-text-grey); }
        .gemini-output { 
            border: 1px solid var(--google-border-grey); 
            padding: 0.85rem; 
            margin-top: 0.85rem; 
            border-radius: 0.375rem; 
            background-color: var(--google-light-background); 
            white-space: pre-wrap; 
            font-size: 0.875rem; 
            color: var(--google-dark-text);
            line-height: 1.6;
        }
        .content-card {
            background-color: var(--google-card-background);
            border: 1px solid var(--google-border-grey);
            border-radius: 0.5rem; 
            box-shadow: 0 1px 3px 0 rgba(60,64,67,0.3), 0 2px 6px 2px rgba(60,64,67,0.15);
        }
        .keyword-section { 
            margin-bottom: 1.75rem; 
            padding: 1.25rem; 
            border: 1px solid var(--google-border-grey); 
            border-radius: 0.5rem; 
            background-color: var(--google-card-background); 
        }
        .keyword-section h3 { color: var(--google-blue); font-weight: 600; font-size: 1.15rem; }
        .keyword-section h4 { font-weight: 500; font-size: 1rem; color: var(--google-dark-text); }
        .keyword-section ul { list-style-type: '‚Äì '; padding-left: 1.25rem; color: var(--google-text-grey); margin-top: 0.5rem;}
        .section-title { color: var(--google-dark-text); font-weight: 600; } /* For main H2s */
        .subsection-title { color: var(--google-dark-text); font-weight: 500; font-size: 1.1rem; } /* For H3s within cards */
        .header-title { color: var(--google-dark-text); font-family: 'Roboto', sans-serif; font-weight: 700;}
        .header-subtitle { color: var(--google-blue); font-family: 'Roboto', sans-serif; font-weight: 500;}
        .text-muted { color: var(--google-text-grey); }
        .highlight-card {
            border-left: 4px solid var(--google-blue);
            background-color: #E8F0FE; 
        }
        .market-card {
            padding: 1rem;
            border: 1px solid var(--google-border-grey);
            border-radius: 0.375rem; /* 6px */
            background-color: var(--google-card-background);
        }
        .market-card h4 {
            color: var(--google-blue);
            font-weight: 600;
        }
        .list-disc { list-style-type: disc; }
        .list-inside { list-style-position: inside; }
        code { background-color: #F1F3F4; padding: 0.15rem 0.3rem; border-radius: 0.2rem; font-family: 'Roboto Mono', monospace; font-size: 0.85em; color: var(--google-dark-text); }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto px-4 py-6 md:px-6 md:py-8">

        <header class="text-center mb-10">
            <h1 class="text-3xl md:text-4xl header-title">Propuesta de Campa√±a Google Ads</h1>
            <p class="text-lg header-subtitle mt-1">Apartamentos Rurales La Casa de Luis</p>
        </header>

        <div class="w-full max-w-6xl mx-auto">
            <div class="border-b border-[var(--google-border-grey)] mb-8">
                <nav class="flex flex-wrap -mb-px" aria-label="Tabs">
                    <button class="tab-btn active" data-tab="summary">Resumen</button>
                    <button class="tab-btn" data-tab="general">C. General</button>
                    <button class="tab-btn" data-tab="romantica">C. Rom√°ntica</button>
                    <button class="tab-btn" data-tab="keywords-analysis">An√°lisis KW</button>
                    <button class="tab-btn" data-tab="audience">Audiencia</button>
                    <button class="tab-btn" data-tab="next-steps">Pr√≥ximos Pasos</button>
                </nav>
            </div>

            <main id="tab-content">
                <div id="summary" class="tab-pane active">
                    <div class="content-card p-6 md:p-8">
                        <h2 class="text-2xl section-title mb-3">Estrategia de Doble Enfoque con IA ‚ú®</h2>
                        <p class="mb-6 text-muted leading-relaxed">Para maximizar el alcance y la relevancia, proponemos una estrategia dividida en dos campa√±as principales. Una campa√±a "General" para captar a un p√∫blico amplio interesado en el turismo rural en Extremadura, y una campa√±a "Rom√°ntica", altamente especializada, para atacar el nicho de mercado m√°s rentable y diferenciador del alojamiento: las escapadas en pareja con jacuzzi. Ambas campa√±as se ven potenciadas con herramientas de IA para la generaci√≥n de ideas creativas. Es crucial definir objetivos SMART desde el inicio y enfocar la optimizaci√≥n continua basada en datos.</p>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <h3 class="text-xl subsection-title mb-3 text-center">Enfoque de Campa√±as</h3>
                                <div class="space-y-4">
                                    <div class="p-4 rounded-md border border-[var(--google-border-grey)]">
                                        <h4 class="font-semibold text-lg text-[var(--google-dark-text)]">1. Campa√±a General</h4>
                                        <p class="text-muted text-sm">Captura de b√∫squedas de alojamiento rural en la regi√≥n, enfocada en la ubicaci√≥n y atracciones cercanas como Trujillo y Monfrag√ºe.</p>
                                    </div>
                                    <div class="p-4 rounded-md highlight-card">
                                        <h4 class="font-semibold text-lg text-[var(--google-blue)]">2. Campa√±a Rom√°ntica ‚ú®</h4>
                                        <p class="text-muted text-sm">Dirigida a parejas, promocionando activamente los elementos diferenciadores como el jacuzzi privado, la privacidad y el ambiente rom√°ntico.</p>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <h3 class="text-xl subsection-title mb-3 text-center">Inversi√≥n Sugerida (Ejemplo)</h3>
                                <div class="chart-container">
                                    <canvas id="budgetChart"></canvas>
                                </div>
                                <p class="text-center text-sm text-muted mt-2">Se recomienda asignar un mayor presupuesto a la campa√±a con mayor potencial de conversi√≥n y alineada con los USPs.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="general" class="tab-pane hidden">
                    <div class="content-card p-6 md:p-8">
                        <h2 class="text-2xl section-title mb-1">Campa√±a General: <code class="text-xl font-normal">EXT - Apartamentos Rurales - General</code></h2>
                        <p class="mb-6 text-muted leading-relaxed">El objetivo de esta campa√±a es asegurar la visibilidad para usuarios que buscan alojamiento rural en la regi√≥n de Extremadura, posicionando "La Casa de Luis" como una opci√≥n ideal por su ubicaci√≥n y acceso a puntos de inter√©s cultural y natural.</p>
                        <div id="general-ad-groups" class="flex flex-wrap gap-2 mb-6"></div>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="p-4 rounded-md border border-[var(--google-border-grey)]">
                                <h3 class="font-semibold mb-3 subsection-title">Palabras Clave Sugeridas</h3>
                                <ul id="general-keywords" class="space-y-2 text-sm text-muted"></ul>
                            </div>
                            <div class="p-4 rounded-md border border-[var(--google-border-grey)] bg-[var(--google-light-background)]">
                                <h3 class="font-semibold mb-3 subsection-title text-[var(--google-blue)]">Ejemplo de Anuncio</h3>
                                <div id="general-ad-preview" class="p-3 bg-white rounded-md shadow-sm mb-4 border border-[var(--google-border-grey)]"></div>
                                <button id="generateGeneralAdIdeas" class="gemini-btn">‚ú® Generar M√°s Ideas</button>
                                <div id="generalAdIdeasLoading" class="loading-indicator hidden mt-2">Cargando ideas...</div>
                                <div id="generalAdIdeasOutput" class="gemini-output hidden"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="romantica" class="tab-pane hidden">
                    <div class="content-card p-6 md:p-8">
                        <h2 class="text-2xl section-title mb-1">Campa√±a Rom√°ntica: <code class="text-xl font-normal">EXT - Escapadas Rom√°nticas</code></h2>
                         <p class="mb-6 text-muted leading-relaxed">Esta campa√±a es el pilar de la estrategia. Se enfoca en el principal valor diferencial del alojamiento, atrayendo a un p√∫blico con alta intenci√≥n de compra que busca espec√≠ficamente una experiencia rom√°ntica, √≠ntima y especial.</p>
                        <div id="romantica-ad-groups" class="flex flex-wrap gap-2 mb-6"></div>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="p-4 rounded-md border border-[var(--google-border-grey)]">
                                <h3 class="font-semibold mb-3 subsection-title">Palabras Clave Sugeridas</h3>
                                <ul id="romantica-keywords" class="space-y-2 text-sm text-muted"></ul>
                            </div>
                            <div class="p-4 rounded-md border border-[var(--google-border-grey)] bg-[var(--google-light-background)]">
                                <h3 class="font-semibold mb-3 subsection-title text-[var(--google-blue)]">Ejemplo de Anuncio</h3>
                                <div id="romantica-ad-preview" class="p-3 bg-white rounded-md shadow-sm mb-4 border border-[var(--google-border-grey)]"></div>
                                <button id="generateRomanticaAdIdeas" class="gemini-btn">‚ú® Generar M√°s Ideas</button>
                                <div id="romanticaAdIdeasLoading" class="loading-indicator hidden mt-2">Cargando ideas...</div>
                                <div id="romanticaAdIdeasOutput" class="gemini-output hidden"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="keywords-analysis" class="tab-pane hidden">
                    <div class="content-card p-6 md:p-8">
                        <h2 class="text-2xl section-title mb-4">An√°lisis de Palabras Clave e Intenci√≥n de B√∫squeda</h2>
                        <p class="mb-6 text-muted leading-relaxed">Esta secci√≥n profundiza en las palabras clave que los potenciales hu√©spedes podr√≠an utilizar para encontrar "La Casa de Luis". Entender estas b√∫squedas nos permite optimizar tanto el contenido web (SEO) como las campa√±as de Google Ads para atraer tr√°fico altamente cualificado.</p>
                        
                        <div class="mb-6 p-4 border border-[var(--google-border-grey)] rounded-md bg-[var(--google-light-background)]">
                            <h3 class="text-lg subsection-title mb-2 text-[var(--google-blue)]">Tipos de Concordancia de Palabras Clave</h3>
                            <p class="text-sm text-muted mb-1"><strong>Amplia:</strong> M√°xima cobertura, puede mostrar anuncios para b√∫squedas relacionadas. Usar con precauci√≥n y muchas negativas.</p>
                            <p class="text-sm text-muted mb-1"><strong>De Frase (<code class="text-sm">"palabra clave"</code>):</strong> Muestra anuncios si la b√∫squeda incluye la frase o variaciones cercanas. Equilibrio entre alcance y relevancia.</p>
                            <p class="text-sm text-muted"><strong>Exacta (<code class="text-sm">[palabra clave]</code>):</strong> M√°xima relevancia, la b√∫squeda debe ser id√©ntica o una variaci√≥n muy cercana. Menor alcance, mayor CTR potencial.</p>
                        </div>

                        <div class="keyword-section">
                            <h3 class="mb-3">KW Principal: <code>apartamentos rurales Extremadura</code></h3>
                            <div class="grid md:grid-cols-2 gap-6">
                                <div>
                                    <h4 class="mb-2">Palabras Clave Sem√°nticas:</h4>
                                    <ul class="text-sm">
                                        <li>alojamiento rural Extremadura</li>
                                        <li>casas rurales con encanto Extremadura</li>
                                        <li>turismo rural Extremadura</li>
                                        <li>d√≥nde dormir en Extremadura rural</li>
                                        <li>apartamentos vacaciones Extremadura</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 class="mb-2">Preguntas de Usuario T√≠picas:</h4>
                                    <ul class="text-sm">
                                        <li>¬øCu√°les son los mejores apartamentos rurales en Extremadura?</li>
                                        <li>¬øD√≥nde encontrar alojamiento rural tranquilo en Extremadura?</li>
                                        <li>¬øApartamentos rurales en Extremadura con buenas vistas?</li>
                                        <li>¬øPrecio de apartamentos rurales en Extremadura para fin de semana?</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="keyword-section">
                            <h3 class="mb-3">KW Principal: <code>escapada rom√°ntica Extremadura con jacuzzi</code></h3>
                             <div class="grid md:grid-cols-2 gap-6">
                                <div>
                                    <h4 class="mb-2">Palabras Clave Sem√°nticas:</h4>
                                    <ul class="text-sm">
                                        <li>apartamentos con jacuzzi privado Extremadura</li>
                                        <li>casas rurales rom√°nticas Extremadura</li>
                                        <li>fin de semana rom√°ntico con jacuzzi Extremadura</li>
                                        <li>alojamiento para parejas Extremadura jacuzzi</li>
                                        <li>suite con hidromasaje Extremadura</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 class="mb-2">Preguntas de Usuario T√≠picas:</h4>
                                    <ul class="text-sm">
                                        <li>¬øD√≥nde ir de escapada rom√°ntica en Extremadura con jacuzzi?</li>
                                        <li>¬øQu√© apartamentos rurales en Extremadura tienen jacuzzi en la habitaci√≥n?</li>
                                        <li>¬øBusco una casa rural para dos personas con jacuzzi en Extremadura?</li>
                                        <li>¬øOfertas escapada rom√°ntica Extremadura con jacuzzi incluido?</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="keyword-section">
                            <h3 class="mb-3">KW Principal: <code>alojamiento cerca de Trujillo y Monfrag√ºe</code></h3>
                            <div class="grid md:grid-cols-2 gap-6">
                                <div>
                                    <h4 class="mb-2">Palabras Clave Sem√°nticas:</h4>
                                    <ul class="text-sm">
                                        <li>dormir cerca de Trujillo Extremadura</li>
                                        <li>apartamentos rurales Parque Nacional Monfrag√ºe</li>
                                        <li>casas rurales entre Trujillo y C√°ceres</li>
                                        <li>alojamiento base para visitar Monfrag√ºe</li>
                                        <li>d√≥nde alojarse para ver Trujillo y Monfrag√ºe</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 class="mb-2">Preguntas de Usuario T√≠picas:</h4>
                                    <ul class="text-sm">
                                        <li>¬øQu√© alojamiento rural est√° bien ubicado para visitar Trujillo y Monfrag√ºe?</li>
                                        <li>¬øHay apartamentos rurales cerca de la entrada de Monfrag√ºe?</li>
                                        <li>¬øBusco una casa rural tranquila cerca de Trujillo para explorar la zona?</li>
                                        <li>¬øApartamentos con parking cerca de Trujillo para ruta tur√≠stica?</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="audience" class="tab-pane hidden">
                    <div class="content-card p-6 md:p-8">
                        <h2 class="text-2xl section-title mb-4">P√∫blico Objetivo, Mercados Emisores y Extensiones</h2>
                        <p class="mb-6 text-muted leading-relaxed">Identificar y segmentar correctamente a la audiencia, as√≠ como conocer los principales mercados de origen, es clave para el √©xito. Combinaremos esto con extensiones de anuncio para maximizar la visibilidad y la tasa de clics (CTR).</p>
                        
                        <div class="grid lg:grid-cols-3 gap-6">
                            <div class="lg:col-span-1">
                                <h3 class="text-xl subsection-title mb-4">Perfiles de Audiencia</h3>
                                <div class="space-y-4">
                                    <div class="p-4 rounded-md highlight-card">
                                        <h4 class="font-semibold text-[var(--google-blue)] subsection-title">üíï Parejas (25-65 a√±os)</h4>
                                        <p class="text-sm text-muted">El p√∫blico principal. Buscan escapadas, aniversarios, experiencias con jacuzzi y privacidad. Son el foco de la campa√±a rom√°ntica.</p>
                                    </div>
                                    <div class="p-4 rounded-md border border-[var(--google-border-grey)]">
                                        <h4 class="font-semibold subsection-title">üå≥ Amantes de la Naturaleza (30-60 a√±os)</h4>
                                        <p class="text-sm text-muted">Interesados en senderismo, observaci√≥n de aves y parques nacionales como Monfrag√ºe.</p>
                                    </div>
                                     <div class="p-4 rounded-md border border-[var(--google-border-grey)]">
                                        <h4 class="font-semibold subsection-title">üèõÔ∏è Turistas Culturales (35-70 a√±os)</h4>
                                        <p class="text-sm text-muted">Quieren visitar el patrimonio de Trujillo, C√°ceres y M√©rida. Buscan una base de operaciones c√≥moda y bien ubicada.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="lg:col-span-1">
                                <h3 class="text-xl subsection-title mb-4">Mercados Emisores Clave</h3>
                                <div class="space-y-3">
                                    <div class="market-card">
                                        <h4 class="text-base">üìç Comunidad de Madrid</h4>
                                        <p class="text-xs text-muted">Principal emisor nacional. Buscan escapadas rurales y culturales. Buena conexi√≥n por A-5.</p>
                                    </div>
                                    <div class="market-card">
                                        <h4 class="text-base">üìç Andaluc√≠a (Sevilla, C√≥rdoba)</h4>
                                        <p class="text-xs text-muted">Proximidad, inter√©s en turismo de interior y patrimonio.</p>
                                    </div>
                                    <div class="market-card">
                                        <h4 class="text-base">üìç Castilla y Le√≥n (Salamanca, √Åvila)</h4>
                                        <p class="text-xs text-muted">Cercan√≠a, inter√©s en cultura y naturaleza compartida.</p>
                                    </div>
                                    <div class="market-card">
                                        <h4 class="text-base">üåç Portugal (Alentejo, Lisboa, Centro)</h4>
                                        <p class="text-xs text-muted">Principal mercado internacional. Proximidad y lazos culturales. (96.8k turistas a Extremadura en 2022).</p>
                                    </div>
                                </div>
                            </div>
                            <div class="lg:col-span-1">
                                <h3 class="text-xl subsection-title mb-4">Extensiones de Anuncio Clave</h3>
                                <ul class="space-y-3 text-muted">
                                    <li class="flex items-start"><span class="mr-3 text-xl text-[var(--google-blue)]">üîó</span> <div><span class="font-semibold text-[var(--google-dark-text)]">Enlaces de Sitio:</span> Para dirigir a secciones espec√≠ficas como "Suite con Jacuzzi" o "Ofertas Parejas".</div></li>
                                    <li class="flex items-start"><span class="mr-3 text-xl text-[var(--google-blue)]">üìû</span> <div><span class="font-semibold text-[var(--google-dark-text)]">Llamada:</span> Facilita la reserva directa desde el anuncio en m√≥viles.</div></li>
                                    <li class="flex items-start"><span class="mr-3 text-xl text-[var(--google-blue)]">üìç</span> <div><span class="font-semibold text-[var(--google-dark-text)]">Ubicaci√≥n:</span> Muestra la direcci√≥n en el mapa, conectando con Google My Business.</div></li>
                                    <li class="flex items-start"><span class="mr-3 text-xl text-[var(--google-blue)]">‚≠ê</span> <div><span class="font-semibold text-[var(--google-dark-text)]">Texto Destacado:</span> Para resaltar USPs como "Jacuzzi Privado", "Ideal Parejas", "Total Privacidad".</div></li>
                                     <li class="flex items-start"><span class="mr-3 text-xl text-[var(--google-blue)]">üí∞</span> <div><span class="font-semibold text-[var(--google-dark-text)]">Precio:</span> Muestra precios de paquetes o estancias para atraer a usuarios cualificados (ej. "Escapada desde 90‚Ç¨").</div></li>
                                      <li class="flex items-start"><span class="mr-3 text-xl text-[var(--google-blue)]">üñºÔ∏è</span> <div><span class="font-semibold text-[var(--google-dark-text)]">Imagen:</span> Muestra fotos atractivas de los apartamentos y jacuzzis directamente en los resultados de b√∫squeda.</div></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="next-steps" class="tab-pane hidden">
                     <div class="content-card p-6 md:p-8">
                        <h2 class="text-2xl section-title mb-4">Consideraciones y Pr√≥ximos Pasos</h2>
                        <p class="mb-6 text-muted leading-relaxed">Para afinar y lanzar esta estrategia de la manera m√°s efectiva posible, es crucial definir objetivos claros (SMART), recopilar informaci√≥n adicional y establecer un plan de optimizaci√≥n continua.</p>
                         
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <h3 class="text-xl subsection-title mb-3">Informaci√≥n Clave Necesaria</h3>
                                <ul class="space-y-2 list-disc list-inside text-muted text-sm">
                                    <li><b>Objetivos SMART:</b> A definir conjuntamente (Ej: N¬∫ reservas, CPA deseado).</li>
                                    <li><b>Presupuesto detallado:</b> Inversi√≥n mensual para Google Ads.</li>
                                    <li><b>Ofertas y paquetes especiales:</b> Promociones para destacar.</li>
                                    <li><b>Calendario de ocupaci√≥n:</b> Para ajustar estacionalmente.</li>
                                    <li><b>Competidores principales:</b> Para an√°lisis y diferenciaci√≥n.</li>
                                    <li><b>Datos hist√≥ricos (si existen):</b> Rendimiento de campa√±as previas.</li>
                                    <li><b>Proceso de reserva actual:</b> Para optimizar el seguimiento.</li>
                                </ul>
                            </div>
                            <div class="space-y-6">
                                <div>
                                    <h3 class="text-xl subsection-title mb-2">Gesti√≥n de Presupuesto y Puja</h3>
                                    <ul class="space-y-1 list-disc list-inside text-muted text-sm">
                                        <li>Iniciar con "Maximizar Clics" (con CPC M√°x).</li>
                                        <li>Evolucionar a "Maximizar Conversiones" o "CPA Objetivo" con datos suficientes.</li>
                                        <li>Ajustar presupuesto entre campa√±as seg√∫n rendimiento.</li>
                                    </ul>
                                </div>
                                <div>
                                    <h3 class="text-xl subsection-title mb-2">M√©tricas Clave (KPIs) y Optimizaci√≥n</h3>
                                     <ul class="space-y-1 list-disc list-inside text-muted text-sm">
                                        <li>CTR, CPC, Tasa de Conversi√≥n, CPA, Nivel de Calidad.</li>
                                        <li>Optimizaci√≥n continua: Pruebas A/B de anuncios, gesti√≥n de KW (positivas y negativas), an√°lisis de landing pages.</li>
                                        <li>Revisi√≥n de informes de t√©rminos de b√∫squeda.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <hr class="my-6 border-[var(--google-border-grey)]">
                        <div>
                             <h3 class="text-xl subsection-title mb-3">Acciones Estrat√©gicas Adicionales</h3>
                             <ul class="space-y-3 list-disc list-inside text-muted text-sm">
                                 <li><b>Seguimiento de Conversiones Exhaustivo:</b> Fundamental para medir el ROI real de las campa√±as (llamadas, formularios, clics en email/tel√©fono).</li>
                                 <li><b>Sinergia SEO y Google Ads:</b> Utilizar datos de Ads para informar la estrategia SEO (palabras clave que convierten, contenido de inter√©s). Una buena base SEO complementa y puede reducir la dependencia de Ads a largo plazo.</li>
                                 <li><b>Optimizaci√≥n de P√°ginas de Destino (Landing Pages):</b> Crear o mejorar p√°ginas espec√≠ficas, especialmente para "Escapadas Rom√°nticas", asegurando relevancia, carga r√°pida y CTAs claros.
                                    <div class="mt-3">
                                        <button id="generateLandingPageDraft" class="gemini-btn">‚ú® Generar Borrador Landing Page</button>
                                        <div id="landingPageLoading" class="loading-indicator hidden mt-2">Generando borrador...</div>
                                        <div id="landingPageOutput" class="gemini-output hidden"></div>
                                    </div>
                                 </li>
                             </ul>
                        </div>
                        <div class="mt-8 text-center">
                            <p class="text-lg section-title mb-2">¬øListos para empezar?</p>
                            <p class="text-muted mb-4">Contacta para discutir esta propuesta y definir los siguientes pasos para atraer m√°s hu√©spedes a La Casa de Luis.</p>
                            <button class="gemini-btn px-6 py-2.5 text-base">Agendar Reuni√≥n Estrat√©gica</button>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script>
        const campaignData = {
            general: {
                name: 'EXT - Apartamentos Rurales - General',
                ad_groups: [
                    { 
                        id: 'GA1.1', name: 'Apartamentos Rurales Santa Cruz Sierra',
                        keywords: ['"apartamentos rurales Santa Cruz de la Sierra"', '"alojamiento en Santa Cruz de la Sierra C√°ceres"', '[casa rural Santa Cruz de la Sierra]'],
                        ad: {
                            titles: ['Apartamentos en Santa Cruz de la Sierra', 'La Casa de Luis | Rural y Confort', 'Tu Base en Extremadura'],
                            description: 'Apartamentos rurales a 15km de Trujillo. Comodidad y naturaleza para tu viaje a Extremadura. ¬°Reserva tu estancia!'
                        }
                    },
                    { 
                        id: 'GA1.2', name: 'Casas Rurales Cerca Trujillo',
                        keywords: ['"casas rurales cerca de Trujillo"', '"alojamiento rural Trujillo Extremadura"', '[casas rurales Trujillo]'],
                        ad: {
                            titles: ['Apartamentos Cerca de Trujillo', 'La Casa de Luis | Rural y Confort', 'Explora Trujillo y Monfrag√ºe'],
                            description: 'Descubre la belleza de Trujillo, C√°ceres y Monfrag√ºe desde La Casa de Luis. Wifi y parking gratis. ¬°Inf√≥rmate!'
                        }
                    },
                    { 
                        id: 'GA1.3', name: 'Alojamiento Rural Monfrag√ºe',
                        keywords: ['"apartamentos cerca Parque Nacional Monfrag√ºe"', '"alojamiento rural Monfrag√ºe"', '[casa rural Monfrag√ºe]'],
                        ad: {
                            titles: ['Alojamiento Cerca de Monfrag√ºe', 'La Casa de Luis | Naturaleza Pura', 'Base para Tu Aventura'],
                            description: 'Tu punto de partida ideal para explorar el Parque Nacional de Monfrag√ºe. Apartamentos equipados. ¬°Consulta disponibilidad!'
                        }
                    }
                ]
            },
            romantica: {
                name: 'EXT - Escapadas Rom√°nticas',
                ad_groups: [
                    { 
                        id: 'GA2.1', name: 'Escapada Rom√°ntica Extremadura',
                        keywords: ['"escapada rom√°ntica Extremadura"', '"fin de semana rom√°ntico Extremadura"', '[alojamiento rom√°ntico Extremadura]'],
                        ad: {
                            titles: ['Escapada Rom√°ntica Extremadura', 'La Casa de Luis | Amor Rural', 'Sorprende a Tu Pareja'],
                            description: 'Vive una escapada rom√°ntica inolvidable. Apartamentos con encanto, jacuzzi y total privacidad en La Casa de Luis. ¬°Reserva ya!'
                        }
                    },
                    { 
                        id: 'GA2.2', name: 'Apartamentos con Jacuzzi Privado Extremadura',
                        keywords: ['"apartamento rural Extremadura con jacuzzi privado"', '"casa rural con jacuzzi para dos Extremadura"', '[suite con jacuzzi Extremadura]'],
                        ad: {
                            titles: ['Apartamentos con Jacuzzi Privado', 'Suite con Jacuzzi en Extremadura', 'Tu Relax Rom√°ntico Asegurado'],
                            description: 'Disfruta de un jacuzzi privado en tu apartamento rural. La Casa de Luis, tu opci√≥n ideal para una escapada rom√°ntica en Extremadura.'
                        }
                    },
                    { 
                        id: 'GA2.3', name: 'Fin de Semana Rom√°ntico Trujillo',
                        keywords: ['"fin de semana rom√°ntico Trujillo"', '"escapada pareja Trujillo"', '[hotel rom√°ntico Trujillo]'],
                        ad: {
                            titles: ['Finde Rom√°ntico en Trujillo', 'Apartamentos para Parejas', 'Cerca del Casco Hist√≥rico'],
                            description: 'Sorprende a tu pareja con un fin de semana m√°gico cerca de Trujillo. Historia, gastronom√≠a y el mejor descanso.'
                        }
                    },
                     { 
                        id: 'GA2.4', name: 'Hoteles Rurales con Encanto Parejas',
                        keywords: ['"hoteles rurales con encanto parejas Extremadura"', '"casas rurales para dos personas Extremadura"', '[alojamiento √≠ntimo Extremadura]'],
                        ad: {
                            titles: ['Hoteles Rurales con Encanto', 'Alojamiento √çntimo para Parejas', 'La Casa de Luis | Solo para Dos'],
                            description: 'Descubre un lugar con encanto para dos. Privacidad, confort y un entorno natural √∫nico en Extremadura.'
                        }
                    }
                ]
            }
        };

        const tabs = document.querySelectorAll('.tab-btn');
        const panes = document.querySelectorAll('.tab-pane');
        let currentGeneralAdGroupId = campaignData.general.ad_groups.length > 0 ? campaignData.general.ad_groups[0].id : null;
        let currentRomanticaAdGroupId = campaignData.romantica.ad_groups.length > 0 ? campaignData.romantica.ad_groups[0].id : null;


        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                tabs.forEach(item => item.classList.remove('active'));
                tab.classList.add('active');

                panes.forEach(pane => {
                    pane.classList.add('hidden');
                    pane.classList.remove('active'); 
                });
                const activePane = document.getElementById(tab.dataset.tab);
                activePane.classList.remove('hidden');
                activePane.classList.add('active');
            });
        });

        function createAdPreview(ad) {
            return `
                <p class="text-[var(--google-blue)] text-lg font-medium">${ad.titles.join(' | ')}</p>
                <p class="text-[var(--google-green)] text-sm">www.apartamentosruraleslacasadeluis.com</p>
                <p class="text-[var(--google-text-grey)] text-sm">${ad.description}</p>
            `;
        }
        
        function setupCampaignTab(campaignKey) {
            const adGroupsContainer = document.getElementById(`${campaignKey}-ad-groups`);
            const keywordsList = document.getElementById(`${campaignKey}-keywords`);
            const adPreview = document.getElementById(`${campaignKey}-ad-preview`);
            const campaign = campaignData[campaignKey];
            
            if (!adGroupsContainer || !keywordsList || !adPreview || !campaign) return;

            adGroupsContainer.innerHTML = '';
            campaign.ad_groups.forEach((group, index) => {
                const btn = document.createElement('button');
                btn.className = 'ad-group-btn text-sm px-3 py-1.5 rounded-md';
                btn.textContent = group.name;
                btn.dataset.campaign = campaignKey;
                btn.dataset.groupId = group.id;
                if(index === 0) btn.classList.add('active');
                adGroupsContainer.appendChild(btn);
            });
            
            function updateContent(groupId) {
                const group = campaign.ad_groups.find(g => g.id === groupId);
                if (!group) return;

                if (campaignKey === 'general') currentGeneralAdGroupId = groupId;
                if (campaignKey === 'romantica') currentRomanticaAdGroupId = groupId;

                keywordsList.innerHTML = group.keywords.map(kw => `<li><span class="font-mono bg-gray-100 px-2 py-0.5 rounded text-xs text-[var(--google-text-grey)]">${kw}</span></li>`).join('');
                adPreview.innerHTML = createAdPreview(group.ad);
                
                const ideasOutput = document.getElementById(`${campaignKey}AdIdeasOutput`);
                if (ideasOutput) {
                    ideasOutput.classList.add('hidden');
                    ideasOutput.innerHTML = '';
                }
            }

            adGroupsContainer.addEventListener('click', (e) => {
                if(e.target.tagName === 'BUTTON') {
                    adGroupsContainer.querySelectorAll('button').forEach(b => b.classList.remove('active'));
                    e.target.classList.add('active');
                    updateContent(e.target.dataset.groupId);
                }
            });
            if (campaign.ad_groups.length > 0) {
                updateContent(campaign.ad_groups[0].id);
            }
        }

        setupCampaignTab('general');
        setupCampaignTab('romantica');

        const budgetChartCtx = document.getElementById('budgetChart');
        if (budgetChartCtx) {
            // Get computed styles for CSS variables
            const rootStyles = getComputedStyle(document.documentElement);
            const googleCardBackgroundColor = rootStyles.getPropertyValue('--google-card-background').trim() || '#FFFFFF'; // Fallback
            const googleTextGreyColor = rootStyles.getPropertyValue('--google-text-grey').trim() || '#5F6368'; // Fallback
            const googleDarkTextColor = rootStyles.getPropertyValue('--google-dark-text').trim() || '#202124'; // Fallback

            new Chart(budgetChartCtx.getContext('2d'), {
                type: 'doughnut',
                data: {
                    labels: ['Campa√±a Rom√°ntica', 'Campa√±a General'],
                    datasets: [{
                        label: 'Distribuci√≥n de Presupuesto',
                        data: [65, 35],
                        backgroundColor: ['#4285F4', '#A6C8F2'], 
                        borderColor: [googleCardBackgroundColor], 
                        borderWidth: 3
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { 
                            position: 'bottom',
                            labels: { color: googleTextGreyColor, font: { family: "'Roboto', sans-serif" }}
                        },
                        tooltip: { 
                            callbacks: { label: function(context) { return `${context.label}: ${context.raw}%`; } },
                            backgroundColor: googleDarkTextColor, 
                            titleColor: '#FFFFFF',
                            bodyColor: '#FFFFFF',
                            bodyFont: { family: "'Roboto', sans-serif" },
                            titleFont: { family: "'Roboto', sans-serif" }
                        }
                    },
                    cutout: '65%'
                }
            });
        }


        async function callGeminiAPI(promptText) {
            const apiKey = ""; 
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
            
            const payload = {
                contents: [{ role: "user", parts: [{ text: promptText }] }]
            };

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                if (!response.ok) {
                    const errorData = await response.json();
                    console.error("Error en API Gemini:", response.status, errorData);
                    return `Error al contactar la API de Gemini: ${response.status}. Detalles en consola. Si est√°s usando esto en Coda.io, aseg√∫rate de haber a√±adido tu API Key.`;
                }
                const result = await response.json();
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    return result.candidates[0].content.parts[0].text;
                } else {
                    console.error("Respuesta inesperada de API Gemini:", result);
                    return "No se pudo obtener una respuesta v√°lida de la IA. Detalles en consola.";
                }
            } catch (error) {
                console.error("Error en la llamada fetch:", error);
                return "Error de conexi√≥n al generar contenido. Revisa la consola.";
            }
        }
        
        const genGeneralAdIdeasBtn = document.getElementById('generateGeneralAdIdeas');
        if (genGeneralAdIdeasBtn) {
            genGeneralAdIdeasBtn.addEventListener('click', async () => {
                const adGroup = campaignData.general.ad_groups.find(g => g.id === currentGeneralAdGroupId);
                if (!adGroup) return;
                const prompt = `Eres un experto en Google Ads. Para "Apartamentos Rurales La Casa de Luis" en Santa Cruz de la Sierra, Extremadura, genera 2-3 ideas de texto para anuncios de Google Ads para el grupo de anuncios "${adGroup.name}". Cada idea debe incluir 3 t√≠tulos cortos (m√°x 30 caracteres) y 1 descripci√≥n corta (m√°x 90 caracteres). Enf√≥cate en atraer a un p√∫blico general interesado en turismo rural, Trujillo, y Monfrag√ºe. Ejemplo de formato por idea:\nT√≠tulos:\n- T√≠tulo 1\n- T√≠tulo 2\n- T√≠tulo 3\nDescripci√≥n:\n- Texto de la descripci√≥n.`;
                
                document.getElementById('generalAdIdeasLoading').classList.remove('hidden');
                document.getElementById('generalAdIdeasOutput').classList.add('hidden');
                const ideas = await callGeminiAPI(prompt);
                document.getElementById('generalAdIdeasLoading').classList.add('hidden');
                document.getElementById('generalAdIdeasOutput').textContent = ideas;
                document.getElementById('generalAdIdeasOutput').classList.remove('hidden');
            });
        }

        const genRomanticaAdIdeasBtn = document.getElementById('generateRomanticaAdIdeas');
        if (genRomanticaAdIdeasBtn) {
            genRomanticaAdIdeasBtn.addEventListener('click', async () => {
                const adGroup = campaignData.romantica.ad_groups.find(g => g.id === currentRomanticaAdGroupId);
                if (!adGroup) return;
                const prompt = `Eres un experto en Google Ads. Para "Apartamentos Rurales La Casa de Luis" en Santa Cruz de la Sierra, Extremadura, genera 2-3 ideas de texto para anuncios de Google Ads para el grupo de anuncios "${adGroup.name}". Cada idea debe incluir 3 t√≠tulos cortos (m√°x 30 caracteres) y 1 descripci√≥n corta (m√°x 90 caracteres). Enf√≥cate en atraer parejas buscando escapadas rom√°nticas, apartamentos con jacuzzi y privacidad. Ejemplo de formato por idea:\nT√≠tulos:\n- T√≠tulo 1\n- T√≠tulo 2\n- T√≠tulo 3\nDescripci√≥n:\n- Texto de la descripci√≥n.`;

                document.getElementById('romanticaAdIdeasLoading').classList.remove('hidden');
                document.getElementById('romanticaAdIdeasOutput').classList.add('hidden');
                const ideas = await callGeminiAPI(prompt);
                document.getElementById('romanticaAdIdeasLoading').classList.add('hidden');
                document.getElementById('romanticaAdIdeasOutput').textContent = ideas;
                document.getElementById('romanticaAdIdeasOutput').classList.remove('hidden');
            });
        }
        
        const genLandingPageDraftBtn = document.getElementById('generateLandingPageDraft');
        if (genLandingPageDraftBtn) {
            genLandingPageDraftBtn.addEventListener('click', async () => {
                const prompt = `Eres un experto en copywriting para turismo. Redacta un borrador de texto corto y persuasivo para la secci√≥n principal de una p√°gina de destino (landing page) para "Apartamentos Rurales La Casa de Luis", ubicados en Santa Cruz de la Sierra, Extremadura. El objetivo de la p√°gina es atraer parejas para escapadas rom√°nticas. Destaca elementos clave como: ambiente √≠ntimo, apartamentos con jacuzzi privado, privacidad, belleza del entorno natural de Extremadura, y la proximidad a Trujillo para visitas culturales. El tono debe ser evocador y rom√°ntico. Incluye un t√≠tulo atractivo, un p√°rrafo introductorio y 2-3 puntos destacados o peque√±os p√°rrafos sobre los beneficios. Finaliza con una llamada a la acci√≥n suave para contactar o reservar.`;

                document.getElementById('landingPageLoading').classList.remove('hidden');
                document.getElementById('landingPageOutput').classList.add('hidden');
                const draft = await callGeminiAPI(prompt);
                document.getElementById('landingPageLoading').classList.add('hidden');
                document.getElementById('landingPageOutput').textContent = draft;
                document.getElementById('landingPageOutput').classList.remove('hidden');
            });
        }
    </script>

</body>
</html>
